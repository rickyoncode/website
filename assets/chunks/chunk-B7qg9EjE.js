import{r as Nn,j as Pt}from"./chunk-DjHRAZ1l.js";const Hn=document.createElement("i");function Xn(n){const e="&"+n+";";Hn.innerHTML=e;const t=Hn.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}function rn(n,e,t,r){const u=n.length;let i=0,l;if(e<0?e=-e>u?0:u+e:e=e>u?u:e,t=t>0?t:0,r.length<1e4)l=Array.from(r),l.unshift(e,t),n.splice(...l);else for(t&&n.splice(e,t);i<r.length;)l=r.slice(i,i+1e4),l.unshift(e,0),n.splice(...l),i+=1e4,e+=1e4}function Q(n,e){return n.length>0?(rn(n,n.length,0,e),n):e}const Cn={}.hasOwnProperty;function Rt(n){const e={};let t=-1;for(;++t<n.length;)Mt(e,n[t]);return e}function Mt(n,e){let t;for(t in e){const u=(Cn.call(n,t)?n[t]:void 0)||(n[t]={}),i=e[t];let l;if(i)for(l in i){Cn.call(u,l)||(u[l]=[]);const a=i[l];Nt(u[l],Array.isArray(a)?a:a?[a]:[])}}}function Nt(n,e){let t=-1;const r=[];for(;++t<e.length;)(e[t].add==="after"?n:r).push(e[t]);rn(n,0,0,r)}function Ht(n){const e={};let t=-1;for(;++t<n.length;)qt(e,n[t]);return e}function qt(n,e){let t;for(t in e){const u=(Cn.call(n,t)?n[t]:void 0)||(n[t]={}),i=e[t];let l;if(i)for(l in i)u[l]=i[l]}}function jt(n,e){const t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"�":String.fromCodePoint(t)}const Vt={'"':"quot","&":"amp","<":"lt",">":"gt"};function Kn(n){return n.replace(/["&<>]/g,e);function e(t){return"&"+Vt[t]+";"}}function gn(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const v=ln(/[A-Za-z]/),$=ln(/[\dA-Za-z]/),Qt=ln(/[#-'*+\--9=?A-Z^-~]/);function En(n){return n!==null&&(n<32||n===127)}const zn=ln(/\d/),Wt=ln(/[\dA-Fa-f]/),Ut=ln(/[!-/:-@[-`{-~]/);function T(n){return n!==null&&n<-2}function W(n){return n!==null&&(n<0||n===32)}function D(n){return n===-2||n===-1||n===32}const $t=ln(new RegExp("\\p{P}|\\p{S}","u")),Yt=ln(/\s/);function ln(n){return e;function e(t){return t!==null&&t>-1&&n.test(String.fromCharCode(t))}}function xn(n,e){const t=Kn(Zt(n||""));if(!e)return t;const r=t.indexOf(":"),u=t.indexOf("?"),i=t.indexOf("#"),l=t.indexOf("/");return r<0||l>-1&&r>l||u>-1&&r>u||i>-1&&r>i||e.test(t.slice(0,r))?t:""}function Zt(n){const e=[];let t=-1,r=0,u=0;for(;++t<n.length;){const i=n.charCodeAt(t);let l="";if(i===37&&$(n.charCodeAt(t+1))&&$(n.charCodeAt(t+2)))u=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(l=String.fromCharCode(i));else if(i>55295&&i<57344){const a=n.charCodeAt(t+1);i<56320&&a>56319&&a<57344?(l=String.fromCharCode(i,a),u=1):l="�"}else l=String.fromCharCode(i);l&&(e.push(n.slice(r,t),encodeURIComponent(l)),r=t+u+1,l=""),u&&(t+=u,u=0)}return e.join("")+n.slice(r)}const qn={}.hasOwnProperty,jn=/^(https?|ircs?|mailto|xmpp)$/i,Gt=/^https?$/i;function Jt(n){const e=n||{};let t=!0;const r={},u=[[]],i=[],l=[],f=Ht([{enter:{blockQuote:_,codeFenced:nn,codeFencedFenceInfo:A,codeFencedFenceMeta:A,codeIndented:tn,codeText:Tt,content:gt,definition:st,definitionDestinationString:ct,definitionLabelString:A,definitionTitleString:A,emphasis:Et,htmlFlow:Ct,htmlText:Bn,image:G,label:A,link:an,listItemMarker:I,listItemValue:x,listOrdered:R,listUnordered:N,paragraph:H,reference:A,resource:on,resourceDestinationString:sn,resourceTitleString:A,setextHeading:bt,strong:zt},exit:{atxHeading:dt,atxHeadingSequence:xt,autolinkEmail:Lt,autolinkProtocol:Bt,blockQuote:j,characterEscapeValue:mn,characterReferenceMarkerHexadecimal:Ln,characterReferenceMarkerNumeric:Ln,characterReferenceValue:_t,codeFenced:s,codeFencedFence:Z,codeFencedFenceInfo:o,codeFencedFenceMeta:O,codeFlowValue:It,codeIndented:s,codeText:Ft,codeTextData:mn,data:mn,definition:ft,definitionDestinationString:mt,definitionLabelString:ht,definitionTitleString:pt,emphasis:At,hardBreakEscape:On,hardBreakTrailing:On,htmlFlow:_n,htmlFlowData:mn,htmlText:_n,htmlTextData:mn,image:Dn,label:cn,labelText:q,lineEnding:yt,link:Dn,listOrdered:E,listUnordered:P,paragraph:Y,reference:O,referenceString:un,resource:O,resourceDestinationString:Sn,resourceTitleString:ot,setextHeading:wt,setextHeadingLineSequence:St,setextHeadingText:kt,strong:Dt,thematicBreak:Ot}},...e.htmlExtensions||[]]),c={definitions:r,tightStack:l},p={buffer:A,encode:b,getData:z,lineEndingIfNeeded:F,options:e,raw:w,resume:d,setData:k,tag:y};let m=e.defaultLineEnding;return g;function g(S){let C=-1,V=0;const J=[];let X=[],en=[];for(;++C<S.length;)!m&&(S[C][1].type==="lineEnding"||S[C][1].type==="lineEndingBlank")&&(m=S[C][2].sliceSerialize(S[C][1])),(S[C][1].type==="listOrdered"||S[C][1].type==="listUnordered")&&(S[C][0]==="enter"?J.push(C):h(S.slice(J.pop(),C))),S[C][1].type==="definition"&&(S[C][0]==="enter"?(en=Q(en,S.slice(V,C)),V=C):(X=Q(X,S.slice(V,C+1)),V=C+1));X=Q(X,en),X=Q(X,S.slice(V)),C=-1;const K=X;for(f.enter.null&&f.enter.null.call(p);++C<S.length;){const Pn=f[K[C][0]],Rn=K[C][1].type,Mn=Pn[Rn];qn.call(Pn,Rn)&&Mn&&Mn.call({sliceSerialize:K[C][2].sliceSerialize,...p},K[C][1])}return f.exit.null&&f.exit.null.call(p),u[0].join("")}function h(S){const C=S.length;let V=0,J=0,X=!1,en;for(;++V<C;){const K=S[V];if(K[1]._container)en=void 0,K[0]==="enter"?J++:J--;else switch(K[1].type){case"listItemPrefix":{K[0]==="exit"&&(en=!0);break}case"linePrefix":break;case"lineEndingBlank":{K[0]==="enter"&&!J&&(en?en=void 0:X=!0);break}default:en=void 0}}S[0][1]._loose=X}function k(S,C){c[S]=C}function z(S){return c[S]}function A(){u.push([])}function d(){return u.pop().join("")}function y(S){t&&(k("lastWasTag",!0),u[u.length-1].push(S))}function w(S){k("lastWasTag"),u[u.length-1].push(S)}function B(){w(m||`
`)}function F(){const S=u[u.length-1],C=S[S.length-1],V=C?C.charCodeAt(C.length-1):null;V===10||V===13||V===null||B()}function b(S){return z("ignoreEncode")?S:Kn(S)}function O(){d()}function R(S){l.push(!S._loose),F(),y("<ol"),k("expectFirstItem",!0)}function N(S){l.push(!S._loose),F(),y("<ul"),k("expectFirstItem",!0)}function x(S){if(z("expectFirstItem")){const C=Number.parseInt(this.sliceSerialize(S),10);C!==1&&y(' start="'+b(String(C))+'"')}}function I(){z("expectFirstItem")?y(">"):M(),F(),y("<li>"),k("expectFirstItem"),k("lastWasTag")}function E(){M(),l.pop(),B(),y("</ol>")}function P(){M(),l.pop(),B(),y("</ul>")}function M(){z("lastWasTag")&&!z("slurpAllLineEndings")&&F(),y("</li>"),k("slurpAllLineEndings")}function _(){l.push(!1),F(),y("<blockquote>")}function j(){l.pop(),F(),y("</blockquote>"),k("slurpAllLineEndings")}function H(){l[l.length-1]||(F(),y("<p>")),k("slurpAllLineEndings")}function Y(){l[l.length-1]?k("slurpAllLineEndings",!0):y("</p>")}function nn(){F(),y("<pre><code"),k("fencesCount",0)}function o(){const S=d();y(' class="language-'+S+'"')}function Z(){const S=z("fencesCount")||0;S||(y(">"),k("slurpOneLineEnding",!0)),k("fencesCount",S+1)}function tn(){F(),y("<pre><code>")}function s(){const S=z("fencesCount");S!==void 0&&S<2&&c.tightStack.length>0&&!z("lastWasTag")&&B(),z("flowCodeSeenData")&&F(),y("</code></pre>"),S!==void 0&&S<2&&F(),k("flowCodeSeenData"),k("fencesCount"),k("slurpOneLineEnding")}function G(){i.push({image:!0}),t=void 0}function an(){i.push({})}function q(S){i[i.length-1].labelId=this.sliceSerialize(S)}function cn(){i[i.length-1].label=d()}function un(S){i[i.length-1].referenceId=this.sliceSerialize(S)}function on(){A(),i[i.length-1].destination=""}function sn(){A(),k("ignoreEncode",!0)}function Sn(){i[i.length-1].destination=d(),k("ignoreEncode")}function ot(){i[i.length-1].title=d()}function Dn(){let S=i.length-1;const C=i[S],V=C.referenceId||C.labelId,J=C.destination===void 0?r[gn(V)]:C;for(t=!0;S--;)if(i[S].image){t=void 0;break}C.image?(y('<img src="'+xn(J.destination,e.allowDangerousProtocol?void 0:Gt)+'" alt="'),w(C.label),y('"')):y('<a href="'+xn(J.destination,e.allowDangerousProtocol?void 0:jn)+'"'),y(J.title?' title="'+J.title+'"':""),C.image?y(" />"):(y(">"),w(C.label),y("</a>")),i.pop()}function st(){A(),i.push({})}function ht(S){d(),i[i.length-1].labelId=this.sliceSerialize(S)}function ct(){A(),k("ignoreEncode",!0)}function mt(){i[i.length-1].destination=d(),k("ignoreEncode")}function pt(){i[i.length-1].title=d()}function ft(){const S=i[i.length-1],C=gn(S.labelId);d(),qn.call(r,C)||(r[C]=i[i.length-1]),i.pop()}function gt(){k("slurpAllLineEndings",!0)}function xt(S){z("headingRank")||(k("headingRank",this.sliceSerialize(S).length),F(),y("<h"+z("headingRank")+">"))}function bt(){A(),k("slurpAllLineEndings")}function kt(){k("slurpAllLineEndings",!0)}function dt(){y("</h"+z("headingRank")+">"),k("headingRank")}function St(S){k("headingRank",this.sliceSerialize(S).charCodeAt(0)===61?1:2)}function wt(){const S=d();F(),y("<h"+z("headingRank")+">"),w(S),y("</h"+z("headingRank")+">"),k("slurpAllLineEndings"),k("headingRank")}function mn(S){w(b(this.sliceSerialize(S)))}function yt(S){if(!z("slurpAllLineEndings")){if(z("slurpOneLineEnding")){k("slurpOneLineEnding");return}if(z("inCodeText")){w(" ");return}w(b(this.sliceSerialize(S)))}}function It(S){w(b(this.sliceSerialize(S))),k("flowCodeSeenData",!0)}function On(){y("<br />")}function Ct(){F(),Bn()}function _n(){k("ignoreEncode")}function Bn(){e.allowDangerousHtml&&k("ignoreEncode",!0)}function Et(){y("<em>")}function zt(){y("<strong>")}function Tt(){k("inCodeText",!0),y("<code>")}function Ft(){k("inCodeText"),y("</code>")}function At(){y("</em>")}function Dt(){y("</strong>")}function Ot(){F(),y("<hr />")}function Ln(S){k("characterReferenceType",S.type)}function _t(S){const C=this.sliceSerialize(S),V=z("characterReferenceType")?jt(C,z("characterReferenceType")==="characterReferenceMarkerNumeric"?10:16):Xn(C);w(b(V)),k("characterReferenceType")}function Bt(S){const C=this.sliceSerialize(S);y('<a href="'+xn(C,e.allowDangerousProtocol?void 0:jn)+'">'),w(b(C)),y("</a>")}function Lt(S){const C=this.sliceSerialize(S);y('<a href="'+xn("mailto:"+C)+'">'),w(b(C)),y("</a>")}}function L(n,e,t,r){const u=r?r-1:Number.POSITIVE_INFINITY;let i=0;return l;function l(f){return D(f)?(n.enter(t),a(f)):e(f)}function a(f){return D(f)&&i++<u?(n.consume(f),a):(n.exit(t),e(f))}}const Xt={tokenize:Kt};function Kt(n){const e=n.attempt(this.parser.constructs.contentInitial,r,u);let t;return e;function r(a){if(a===null){n.consume(a);return}return n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),L(n,e,"linePrefix")}function u(a){return n.enter("paragraph"),i(a)}function i(a){const f=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=f),t=f,l(a)}function l(a){if(a===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(a);return}return T(a)?(n.consume(a),n.exit("chunkText"),i):(n.consume(a),l)}}const vt={tokenize:ne},Vn={tokenize:te};function ne(n){const e=this,t=[];let r=0,u,i,l;return a;function a(w){if(r<t.length){const B=t[r];return e.containerState=B[1],n.attempt(B[0].continuation,f,c)(w)}return c(w)}function f(w){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,u&&y();const B=e.events.length;let F=B,b;for(;F--;)if(e.events[F][0]==="exit"&&e.events[F][1].type==="chunkFlow"){b=e.events[F][1].end;break}d(r);let O=B;for(;O<e.events.length;)e.events[O][1].end={...b},O++;return rn(e.events,F+1,0,e.events.slice(B)),e.events.length=O,c(w)}return a(w)}function c(w){if(r===t.length){if(!u)return g(w);if(u.currentConstruct&&u.currentConstruct.concrete)return k(w);e.interrupt=!!(u.currentConstruct&&!u._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(Vn,p,m)(w)}function p(w){return u&&y(),d(r),g(w)}function m(w){return e.parser.lazy[e.now().line]=r!==t.length,l=e.now().offset,k(w)}function g(w){return e.containerState={},n.attempt(Vn,h,k)(w)}function h(w){return r++,t.push([e.currentConstruct,e.containerState]),g(w)}function k(w){if(w===null){u&&y(),d(0),n.consume(w);return}return u=u||e.parser.flow(e.now()),n.enter("chunkFlow",{_tokenizer:u,contentType:"flow",previous:i}),z(w)}function z(w){if(w===null){A(n.exit("chunkFlow"),!0),d(0),n.consume(w);return}return T(w)?(n.consume(w),A(n.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(n.consume(w),z)}function A(w,B){const F=e.sliceStream(w);if(B&&F.push(null),w.previous=i,i&&(i.next=w),i=w,u.defineSkip(w.start),u.write(F),e.parser.lazy[w.start.line]){let b=u.events.length;for(;b--;)if(u.events[b][1].start.offset<l&&(!u.events[b][1].end||u.events[b][1].end.offset>l))return;const O=e.events.length;let R=O,N,x;for(;R--;)if(e.events[R][0]==="exit"&&e.events[R][1].type==="chunkFlow"){if(N){x=e.events[R][1].end;break}N=!0}for(d(r),b=O;b<e.events.length;)e.events[b][1].end={...x},b++;rn(e.events,R+1,0,e.events.slice(O)),e.events.length=b}}function d(w){let B=t.length;for(;B-- >w;){const F=t[B];e.containerState=F[1],F[0].exit.call(e,n)}t.length=w}function y(){u.write([null]),i=void 0,u=void 0,e.containerState._closeFlow=void 0}}function te(n,e,t){return L(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Qn(n){if(n===null||W(n)||Yt(n))return 1;if($t(n))return 2}function Fn(n,e,t){const r=[];let u=-1;for(;++u<n.length;){const i=n[u].resolveAll;i&&!r.includes(i)&&(e=i(e,t),r.push(i))}return e}const Tn={name:"attention",tokenize:re,resolveAll:ee};function ee(n,e){let t=-1,r,u,i,l,a,f,c,p;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(r=t;r--;)if(n[r][0]==="exit"&&n[r][1].type==="attentionSequence"&&n[r][1]._open&&e.sliceSerialize(n[r][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[r][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[r][1].end.offset-n[r][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;f=n[r][1].end.offset-n[r][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;const m=Object.assign({},n[r][1].end),g=Object.assign({},n[t][1].start);Wn(m,-f),Wn(g,f),l={type:f>1?"strongSequence":"emphasisSequence",start:m,end:Object.assign({},n[r][1].end)},a={type:f>1?"strongSequence":"emphasisSequence",start:Object.assign({},n[t][1].start),end:g},i={type:f>1?"strongText":"emphasisText",start:Object.assign({},n[r][1].end),end:Object.assign({},n[t][1].start)},u={type:f>1?"strong":"emphasis",start:Object.assign({},l.start),end:Object.assign({},a.end)},n[r][1].end=Object.assign({},l.start),n[t][1].start=Object.assign({},a.end),c=[],n[r][1].end.offset-n[r][1].start.offset&&(c=Q(c,[["enter",n[r][1],e],["exit",n[r][1],e]])),c=Q(c,[["enter",u,e],["enter",l,e],["exit",l,e],["enter",i,e]]),c=Q(c,Fn(e.parser.constructs.insideSpan.null,n.slice(r+1,t),e)),c=Q(c,[["exit",i,e],["enter",a,e],["exit",a,e],["exit",u,e]]),n[t][1].end.offset-n[t][1].start.offset?(p=2,c=Q(c,[["enter",n[t][1],e],["exit",n[t][1],e]])):p=0,rn(n,r-1,t-r+3,c),t=r+c.length-p-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function re(n,e){const t=this.parser.constructs.attentionMarkers.null,r=this.previous,u=Qn(r);let i;return l;function l(f){return i=f,n.enter("attentionSequence"),a(f)}function a(f){if(f===i)return n.consume(f),a;const c=n.exit("attentionSequence"),p=Qn(f),m=!p||p===2&&u||t.includes(f),g=!u||u===2&&p||t.includes(r);return c._open=!!(i===42?m:m&&(u||!g)),c._close=!!(i===42?g:g&&(p||!m)),e(f)}}function Wn(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}const ie={name:"autolink",tokenize:ue};function ue(n,e,t){let r=0;return u;function u(h){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(h),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),i}function i(h){return v(h)?(n.consume(h),l):h===64?t(h):c(h)}function l(h){return h===43||h===45||h===46||$(h)?(r=1,a(h)):c(h)}function a(h){return h===58?(n.consume(h),r=0,f):(h===43||h===45||h===46||$(h))&&r++<32?(n.consume(h),a):(r=0,c(h))}function f(h){return h===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(h),n.exit("autolinkMarker"),n.exit("autolink"),e):h===null||h===32||h===60||En(h)?t(h):(n.consume(h),f)}function c(h){return h===64?(n.consume(h),p):Qt(h)?(n.consume(h),c):t(h)}function p(h){return $(h)?m(h):t(h)}function m(h){return h===46?(n.consume(h),r=0,p):h===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(h),n.exit("autolinkMarker"),n.exit("autolink"),e):g(h)}function g(h){if((h===45||$(h))&&r++<63){const k=h===45?g:m;return n.consume(h),k}return t(h)}}const dn={tokenize:le,partial:!0};function le(n,e,t){return r;function r(i){return D(i)?L(n,u,"linePrefix")(i):u(i)}function u(i){return i===null||T(i)?e(i):t(i)}}const vn={name:"blockQuote",tokenize:ae,continuation:{tokenize:oe},exit:se};function ae(n,e,t){const r=this;return u;function u(l){if(l===62){const a=r.containerState;return a.open||(n.enter("blockQuote",{_container:!0}),a.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(l),n.exit("blockQuoteMarker"),i}return t(l)}function i(l){return D(l)?(n.enter("blockQuotePrefixWhitespace"),n.consume(l),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(l))}}function oe(n,e,t){const r=this;return u;function u(l){return D(l)?L(n,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):i(l)}function i(l){return n.attempt(vn,e,t)(l)}}function se(n){n.exit("blockQuote")}const nt={name:"characterEscape",tokenize:he};function he(n,e,t){return r;function r(i){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(i),n.exit("escapeMarker"),u}function u(i){return Ut(i)?(n.enter("characterEscapeValue"),n.consume(i),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(i)}}const tt={name:"characterReference",tokenize:ce};function ce(n,e,t){const r=this;let u=0,i,l;return a;function a(m){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(m),n.exit("characterReferenceMarker"),f}function f(m){return m===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(m),n.exit("characterReferenceMarkerNumeric"),c):(n.enter("characterReferenceValue"),i=31,l=$,p(m))}function c(m){return m===88||m===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(m),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),i=6,l=Wt,p):(n.enter("characterReferenceValue"),i=7,l=zn,p(m))}function p(m){if(m===59&&u){const g=n.exit("characterReferenceValue");return l===$&&!Xn(r.sliceSerialize(g))?t(m):(n.enter("characterReferenceMarker"),n.consume(m),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)}return l(m)&&u++<i?(n.consume(m),p):t(m)}}const Un={tokenize:pe,partial:!0},$n={name:"codeFenced",tokenize:me,concrete:!0};function me(n,e,t){const r=this,u={tokenize:F,partial:!0};let i=0,l=0,a;return f;function f(b){return c(b)}function c(b){const O=r.events[r.events.length-1];return i=O&&O[1].type==="linePrefix"?O[2].sliceSerialize(O[1],!0).length:0,a=b,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),p(b)}function p(b){return b===a?(l++,n.consume(b),p):l<3?t(b):(n.exit("codeFencedFenceSequence"),D(b)?L(n,m,"whitespace")(b):m(b))}function m(b){return b===null||T(b)?(n.exit("codeFencedFence"),r.interrupt?e(b):n.check(Un,z,B)(b)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),g(b))}function g(b){return b===null||T(b)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),m(b)):D(b)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),L(n,h,"whitespace")(b)):b===96&&b===a?t(b):(n.consume(b),g)}function h(b){return b===null||T(b)?m(b):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),k(b))}function k(b){return b===null||T(b)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),m(b)):b===96&&b===a?t(b):(n.consume(b),k)}function z(b){return n.attempt(u,B,A)(b)}function A(b){return n.enter("lineEnding"),n.consume(b),n.exit("lineEnding"),d}function d(b){return i>0&&D(b)?L(n,y,"linePrefix",i+1)(b):y(b)}function y(b){return b===null||T(b)?n.check(Un,z,B)(b):(n.enter("codeFlowValue"),w(b))}function w(b){return b===null||T(b)?(n.exit("codeFlowValue"),y(b)):(n.consume(b),w)}function B(b){return n.exit("codeFenced"),e(b)}function F(b,O,R){let N=0;return x;function x(_){return b.enter("lineEnding"),b.consume(_),b.exit("lineEnding"),I}function I(_){return b.enter("codeFencedFence"),D(_)?L(b,E,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):E(_)}function E(_){return _===a?(b.enter("codeFencedFenceSequence"),P(_)):R(_)}function P(_){return _===a?(N++,b.consume(_),P):N>=l?(b.exit("codeFencedFenceSequence"),D(_)?L(b,M,"whitespace")(_):M(_)):R(_)}function M(_){return _===null||T(_)?(b.exit("codeFencedFence"),O(_)):R(_)}}}function pe(n,e,t){const r=this;return u;function u(l){return l===null?t(l):(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),i)}function i(l){return r.parser.lazy[r.now().line]?t(l):e(l)}}const wn={name:"codeIndented",tokenize:ge},fe={tokenize:xe,partial:!0};function ge(n,e,t){const r=this;return u;function u(c){return n.enter("codeIndented"),L(n,i,"linePrefix",5)(c)}function i(c){const p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?l(c):t(c)}function l(c){return c===null?f(c):T(c)?n.attempt(fe,l,f)(c):(n.enter("codeFlowValue"),a(c))}function a(c){return c===null||T(c)?(n.exit("codeFlowValue"),l(c)):(n.consume(c),a)}function f(c){return n.exit("codeIndented"),e(c)}}function xe(n,e,t){const r=this;return u;function u(l){return r.parser.lazy[r.now().line]?t(l):T(l)?(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),u):L(n,i,"linePrefix",5)(l)}function i(l){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(l):T(l)?u(l):t(l)}}const be={name:"codeText",tokenize:Se,resolve:ke,previous:de};function ke(n){let e=n.length-4,t=3,r,u;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(r=t;++r<e;)if(n[r][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(r=t-1,e++;++r<=e;)u===void 0?r!==e&&n[r][1].type!=="lineEnding"&&(u=r):(r===e||n[r][1].type==="lineEnding")&&(n[u][1].type="codeTextData",r!==u+2&&(n[u][1].end=n[r-1][1].end,n.splice(u+2,r-u-2),e-=r-u-2,r=u+2),u=void 0);return n}function de(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Se(n,e,t){let r=0,u,i;return l;function l(m){return n.enter("codeText"),n.enter("codeTextSequence"),a(m)}function a(m){return m===96?(n.consume(m),r++,a):(n.exit("codeTextSequence"),f(m))}function f(m){return m===null?t(m):m===32?(n.enter("space"),n.consume(m),n.exit("space"),f):m===96?(i=n.enter("codeTextSequence"),u=0,p(m)):T(m)?(n.enter("lineEnding"),n.consume(m),n.exit("lineEnding"),f):(n.enter("codeTextData"),c(m))}function c(m){return m===null||m===32||m===96||T(m)?(n.exit("codeTextData"),f(m)):(n.consume(m),c)}function p(m){return m===96?(n.consume(m),u++,p):u===r?(n.exit("codeTextSequence"),n.exit("codeText"),e(m)):(i.type="codeTextData",c(m))}}class we{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const r=t??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,t,r){const u=t||0;this.setCursor(Math.trunc(e));const i=this.right.splice(this.right.length-u,Number.POSITIVE_INFINITY);return r&&pn(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),pn(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),pn(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);pn(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);pn(this.left,t.reverse())}}}function pn(n,e){let t=0;if(e.length<1e4)n.push(...e);else for(;t<e.length;)n.push(...e.slice(t,t+1e4)),t+=1e4}function et(n){const e={};let t=-1,r,u,i,l,a,f,c;const p=new we(n);for(;++t<p.length;){for(;t in e;)t=e[t];if(r=p.get(t),t&&r[1].type==="chunkFlow"&&p.get(t-1)[1].type==="listItemPrefix"&&(f=r[1]._tokenizer.events,i=0,i<f.length&&f[i][1].type==="lineEndingBlank"&&(i+=2),i<f.length&&f[i][1].type==="content"))for(;++i<f.length&&f[i][1].type!=="content";)f[i][1].type==="chunkText"&&(f[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,ye(p,t)),t=e[t],c=!0);else if(r[1]._container){for(i=t,u=void 0;i--&&(l=p.get(i),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank");)l[0]==="enter"&&(u&&(p.get(u)[1].type="lineEndingBlank"),l[1].type="lineEnding",u=i);u&&(r[1].end=Object.assign({},p.get(u)[1].start),a=p.slice(u,t),a.unshift(r),p.splice(u,t-u+1,a))}}return rn(n,0,Number.POSITIVE_INFINITY,p.slice(0)),!c}function ye(n,e){const t=n.get(e)[1],r=n.get(e)[2];let u=e-1;const i=[],l=t._tokenizer||r.parser[t.contentType](t.start),a=l.events,f=[],c={};let p,m,g=-1,h=t,k=0,z=0;const A=[z];for(;h;){for(;n.get(++u)[1]!==h;);i.push(u),h._tokenizer||(p=r.sliceStream(h),h.next||p.push(null),m&&l.defineSkip(h.start),h._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(p),h._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),m=h,h=h.next}for(h=t;++g<a.length;)a[g][0]==="exit"&&a[g-1][0]==="enter"&&a[g][1].type===a[g-1][1].type&&a[g][1].start.line!==a[g][1].end.line&&(z=g+1,A.push(z),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(l.events=[],h?(h._tokenizer=void 0,h.previous=void 0):A.pop(),g=A.length;g--;){const d=a.slice(A[g],A[g+1]),y=i.pop();f.push([y,y+d.length-1]),n.splice(y,2,d)}for(f.reverse(),g=-1;++g<f.length;)c[k+f[g][0]]=k+f[g][1],k+=f[g][1]-f[g][0]-1;return c}const Ie={tokenize:ze,resolve:Ee},Ce={tokenize:Te,partial:!0};function Ee(n){return et(n),n}function ze(n,e){let t;return r;function r(a){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),u(a)}function u(a){return a===null?i(a):T(a)?n.check(Ce,l,i)(a):(n.consume(a),u)}function i(a){return n.exit("chunkContent"),n.exit("content"),e(a)}function l(a){return n.consume(a),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,u}}function Te(n,e,t){const r=this;return u;function u(l){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),L(n,i,"linePrefix")}function i(l){if(l===null||T(l))return t(l);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(l):n.interrupt(r.parser.constructs.flow,t,e)(l)}}function rt(n,e,t,r,u,i,l,a,f){const c=f||Number.POSITIVE_INFINITY;let p=0;return m;function m(d){return d===60?(n.enter(r),n.enter(u),n.enter(i),n.consume(d),n.exit(i),g):d===null||d===32||d===41||En(d)?t(d):(n.enter(r),n.enter(l),n.enter(a),n.enter("chunkString",{contentType:"string"}),z(d))}function g(d){return d===62?(n.enter(i),n.consume(d),n.exit(i),n.exit(u),n.exit(r),e):(n.enter(a),n.enter("chunkString",{contentType:"string"}),h(d))}function h(d){return d===62?(n.exit("chunkString"),n.exit(a),g(d)):d===null||d===60||T(d)?t(d):(n.consume(d),d===92?k:h)}function k(d){return d===60||d===62||d===92?(n.consume(d),h):h(d)}function z(d){return!p&&(d===null||d===41||W(d))?(n.exit("chunkString"),n.exit(a),n.exit(l),n.exit(r),e(d)):p<c&&d===40?(n.consume(d),p++,z):d===41?(n.consume(d),p--,z):d===null||d===32||d===40||En(d)?t(d):(n.consume(d),d===92?A:z)}function A(d){return d===40||d===41||d===92?(n.consume(d),z):z(d)}}function it(n,e,t,r,u,i){const l=this;let a=0,f;return c;function c(h){return n.enter(r),n.enter(u),n.consume(h),n.exit(u),n.enter(i),p}function p(h){return a>999||h===null||h===91||h===93&&!f||h===94&&!a&&"_hiddenFootnoteSupport"in l.parser.constructs?t(h):h===93?(n.exit(i),n.enter(u),n.consume(h),n.exit(u),n.exit(r),e):T(h)?(n.enter("lineEnding"),n.consume(h),n.exit("lineEnding"),p):(n.enter("chunkString",{contentType:"string"}),m(h))}function m(h){return h===null||h===91||h===93||T(h)||a++>999?(n.exit("chunkString"),p(h)):(n.consume(h),f||(f=!D(h)),h===92?g:m)}function g(h){return h===91||h===92||h===93?(n.consume(h),a++,m):m(h)}}function ut(n,e,t,r,u,i){let l;return a;function a(g){return g===34||g===39||g===40?(n.enter(r),n.enter(u),n.consume(g),n.exit(u),l=g===40?41:g,f):t(g)}function f(g){return g===l?(n.enter(u),n.consume(g),n.exit(u),n.exit(r),e):(n.enter(i),c(g))}function c(g){return g===l?(n.exit(i),f(l)):g===null?t(g):T(g)?(n.enter("lineEnding"),n.consume(g),n.exit("lineEnding"),L(n,c,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),p(g))}function p(g){return g===l||g===null||T(g)?(n.exit("chunkString"),c(g)):(n.consume(g),g===92?m:p)}function m(g){return g===l||g===92?(n.consume(g),p):p(g)}}function fn(n,e){let t;return r;function r(u){return T(u)?(n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),t=!0,r):D(u)?L(n,r,t?"linePrefix":"lineSuffix")(u):e(u)}}const Fe={name:"definition",tokenize:De},Ae={tokenize:Oe,partial:!0};function De(n,e,t){const r=this;let u;return i;function i(h){return n.enter("definition"),l(h)}function l(h){return it.call(r,n,a,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function a(h){return u=gn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(n.enter("definitionMarker"),n.consume(h),n.exit("definitionMarker"),f):t(h)}function f(h){return W(h)?fn(n,c)(h):c(h)}function c(h){return rt(n,p,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function p(h){return n.attempt(Ae,m,m)(h)}function m(h){return D(h)?L(n,g,"whitespace")(h):g(h)}function g(h){return h===null||T(h)?(n.exit("definition"),r.parser.defined.push(u),e(h)):t(h)}}function Oe(n,e,t){return r;function r(a){return W(a)?fn(n,u)(a):t(a)}function u(a){return ut(n,i,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function i(a){return D(a)?L(n,l,"whitespace")(a):l(a)}function l(a){return a===null||T(a)?e(a):t(a)}}const _e={name:"hardBreakEscape",tokenize:Be};function Be(n,e,t){return r;function r(i){return n.enter("hardBreakEscape"),n.consume(i),u}function u(i){return T(i)?(n.exit("hardBreakEscape"),e(i)):t(i)}}const Le={name:"headingAtx",tokenize:Re,resolve:Pe};function Pe(n,e){let t=n.length-2,r=3,u,i;return n[r][1].type==="whitespace"&&(r+=2),t-2>r&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&n[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(u={type:"atxHeadingText",start:n[r][1].start,end:n[t][1].end},i={type:"chunkText",start:n[r][1].start,end:n[t][1].end,contentType:"text"},rn(n,r,t-r+1,[["enter",u,e],["enter",i,e],["exit",i,e],["exit",u,e]])),n}function Re(n,e,t){let r=0;return u;function u(p){return n.enter("atxHeading"),i(p)}function i(p){return n.enter("atxHeadingSequence"),l(p)}function l(p){return p===35&&r++<6?(n.consume(p),l):p===null||W(p)?(n.exit("atxHeadingSequence"),a(p)):t(p)}function a(p){return p===35?(n.enter("atxHeadingSequence"),f(p)):p===null||T(p)?(n.exit("atxHeading"),e(p)):D(p)?L(n,a,"whitespace")(p):(n.enter("atxHeadingText"),c(p))}function f(p){return p===35?(n.consume(p),f):(n.exit("atxHeadingSequence"),a(p))}function c(p){return p===null||p===35||W(p)?(n.exit("atxHeadingText"),a(p)):(n.consume(p),c)}}const Me=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Yn=["pre","script","style","textarea"],Ne={name:"htmlFlow",tokenize:Ve,resolveTo:je,concrete:!0},He={tokenize:We,partial:!0},qe={tokenize:Qe,partial:!0};function je(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function Ve(n,e,t){const r=this;let u,i,l,a,f;return c;function c(s){return p(s)}function p(s){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(s),m}function m(s){return s===33?(n.consume(s),g):s===47?(n.consume(s),i=!0,z):s===63?(n.consume(s),u=3,r.interrupt?e:o):v(s)?(n.consume(s),l=String.fromCharCode(s),A):t(s)}function g(s){return s===45?(n.consume(s),u=2,h):s===91?(n.consume(s),u=5,a=0,k):v(s)?(n.consume(s),u=4,r.interrupt?e:o):t(s)}function h(s){return s===45?(n.consume(s),r.interrupt?e:o):t(s)}function k(s){const G="CDATA[";return s===G.charCodeAt(a++)?(n.consume(s),a===G.length?r.interrupt?e:E:k):t(s)}function z(s){return v(s)?(n.consume(s),l=String.fromCharCode(s),A):t(s)}function A(s){if(s===null||s===47||s===62||W(s)){const G=s===47,an=l.toLowerCase();return!G&&!i&&Yn.includes(an)?(u=1,r.interrupt?e(s):E(s)):Me.includes(l.toLowerCase())?(u=6,G?(n.consume(s),d):r.interrupt?e(s):E(s)):(u=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(s):i?y(s):w(s))}return s===45||$(s)?(n.consume(s),l+=String.fromCharCode(s),A):t(s)}function d(s){return s===62?(n.consume(s),r.interrupt?e:E):t(s)}function y(s){return D(s)?(n.consume(s),y):x(s)}function w(s){return s===47?(n.consume(s),x):s===58||s===95||v(s)?(n.consume(s),B):D(s)?(n.consume(s),w):x(s)}function B(s){return s===45||s===46||s===58||s===95||$(s)?(n.consume(s),B):F(s)}function F(s){return s===61?(n.consume(s),b):D(s)?(n.consume(s),F):w(s)}function b(s){return s===null||s===60||s===61||s===62||s===96?t(s):s===34||s===39?(n.consume(s),f=s,O):D(s)?(n.consume(s),b):R(s)}function O(s){return s===f?(n.consume(s),f=null,N):s===null||T(s)?t(s):(n.consume(s),O)}function R(s){return s===null||s===34||s===39||s===47||s===60||s===61||s===62||s===96||W(s)?F(s):(n.consume(s),R)}function N(s){return s===47||s===62||D(s)?w(s):t(s)}function x(s){return s===62?(n.consume(s),I):t(s)}function I(s){return s===null||T(s)?E(s):D(s)?(n.consume(s),I):t(s)}function E(s){return s===45&&u===2?(n.consume(s),j):s===60&&u===1?(n.consume(s),H):s===62&&u===4?(n.consume(s),Z):s===63&&u===3?(n.consume(s),o):s===93&&u===5?(n.consume(s),nn):T(s)&&(u===6||u===7)?(n.exit("htmlFlowData"),n.check(He,tn,P)(s)):s===null||T(s)?(n.exit("htmlFlowData"),P(s)):(n.consume(s),E)}function P(s){return n.check(qe,M,tn)(s)}function M(s){return n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),_}function _(s){return s===null||T(s)?P(s):(n.enter("htmlFlowData"),E(s))}function j(s){return s===45?(n.consume(s),o):E(s)}function H(s){return s===47?(n.consume(s),l="",Y):E(s)}function Y(s){if(s===62){const G=l.toLowerCase();return Yn.includes(G)?(n.consume(s),Z):E(s)}return v(s)&&l.length<8?(n.consume(s),l+=String.fromCharCode(s),Y):E(s)}function nn(s){return s===93?(n.consume(s),o):E(s)}function o(s){return s===62?(n.consume(s),Z):s===45&&u===2?(n.consume(s),o):E(s)}function Z(s){return s===null||T(s)?(n.exit("htmlFlowData"),tn(s)):(n.consume(s),Z)}function tn(s){return n.exit("htmlFlow"),e(s)}}function Qe(n,e,t){const r=this;return u;function u(l){return T(l)?(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),i):t(l)}function i(l){return r.parser.lazy[r.now().line]?t(l):e(l)}}function We(n,e,t){return r;function r(u){return n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),n.attempt(dn,e,t)}}const Ue={name:"htmlText",tokenize:$e};function $e(n,e,t){const r=this;let u,i,l;return a;function a(o){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(o),f}function f(o){return o===33?(n.consume(o),c):o===47?(n.consume(o),F):o===63?(n.consume(o),w):v(o)?(n.consume(o),R):t(o)}function c(o){return o===45?(n.consume(o),p):o===91?(n.consume(o),i=0,k):v(o)?(n.consume(o),y):t(o)}function p(o){return o===45?(n.consume(o),h):t(o)}function m(o){return o===null?t(o):o===45?(n.consume(o),g):T(o)?(l=m,H(o)):(n.consume(o),m)}function g(o){return o===45?(n.consume(o),h):m(o)}function h(o){return o===62?j(o):o===45?g(o):m(o)}function k(o){const Z="CDATA[";return o===Z.charCodeAt(i++)?(n.consume(o),i===Z.length?z:k):t(o)}function z(o){return o===null?t(o):o===93?(n.consume(o),A):T(o)?(l=z,H(o)):(n.consume(o),z)}function A(o){return o===93?(n.consume(o),d):z(o)}function d(o){return o===62?j(o):o===93?(n.consume(o),d):z(o)}function y(o){return o===null||o===62?j(o):T(o)?(l=y,H(o)):(n.consume(o),y)}function w(o){return o===null?t(o):o===63?(n.consume(o),B):T(o)?(l=w,H(o)):(n.consume(o),w)}function B(o){return o===62?j(o):w(o)}function F(o){return v(o)?(n.consume(o),b):t(o)}function b(o){return o===45||$(o)?(n.consume(o),b):O(o)}function O(o){return T(o)?(l=O,H(o)):D(o)?(n.consume(o),O):j(o)}function R(o){return o===45||$(o)?(n.consume(o),R):o===47||o===62||W(o)?N(o):t(o)}function N(o){return o===47?(n.consume(o),j):o===58||o===95||v(o)?(n.consume(o),x):T(o)?(l=N,H(o)):D(o)?(n.consume(o),N):j(o)}function x(o){return o===45||o===46||o===58||o===95||$(o)?(n.consume(o),x):I(o)}function I(o){return o===61?(n.consume(o),E):T(o)?(l=I,H(o)):D(o)?(n.consume(o),I):N(o)}function E(o){return o===null||o===60||o===61||o===62||o===96?t(o):o===34||o===39?(n.consume(o),u=o,P):T(o)?(l=E,H(o)):D(o)?(n.consume(o),E):(n.consume(o),M)}function P(o){return o===u?(n.consume(o),u=void 0,_):o===null?t(o):T(o)?(l=P,H(o)):(n.consume(o),P)}function M(o){return o===null||o===34||o===39||o===60||o===61||o===96?t(o):o===47||o===62||W(o)?N(o):(n.consume(o),M)}function _(o){return o===47||o===62||W(o)?N(o):t(o)}function j(o){return o===62?(n.consume(o),n.exit("htmlTextData"),n.exit("htmlText"),e):t(o)}function H(o){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),Y}function Y(o){return D(o)?L(n,nn,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):nn(o)}function nn(o){return n.enter("htmlTextData"),l(o)}}const An={name:"labelEnd",tokenize:Ke,resolveTo:Xe,resolveAll:Je},Ye={tokenize:ve},Ze={tokenize:nr},Ge={tokenize:tr};function Je(n){let e=-1;for(;++e<n.length;){const t=n[e][1];(t.type==="labelImage"||t.type==="labelLink"||t.type==="labelEnd")&&(n.splice(e+1,t.type==="labelImage"?4:2),t.type="data",e++)}return n}function Xe(n,e){let t=n.length,r=0,u,i,l,a;for(;t--;)if(u=n[t][1],i){if(u.type==="link"||u.type==="labelLink"&&u._inactive)break;n[t][0]==="enter"&&u.type==="labelLink"&&(u._inactive=!0)}else if(l){if(n[t][0]==="enter"&&(u.type==="labelImage"||u.type==="labelLink")&&!u._balanced&&(i=t,u.type!=="labelLink")){r=2;break}}else u.type==="labelEnd"&&(l=t);const f={type:n[i][1].type==="labelLink"?"link":"image",start:Object.assign({},n[i][1].start),end:Object.assign({},n[n.length-1][1].end)},c={type:"label",start:Object.assign({},n[i][1].start),end:Object.assign({},n[l][1].end)},p={type:"labelText",start:Object.assign({},n[i+r+2][1].end),end:Object.assign({},n[l-2][1].start)};return a=[["enter",f,e],["enter",c,e]],a=Q(a,n.slice(i+1,i+r+3)),a=Q(a,[["enter",p,e]]),a=Q(a,Fn(e.parser.constructs.insideSpan.null,n.slice(i+r+4,l-3),e)),a=Q(a,[["exit",p,e],n[l-2],n[l-1],["exit",c,e]]),a=Q(a,n.slice(l+1)),a=Q(a,[["exit",f,e]]),rn(n,i,n.length,a),n}function Ke(n,e,t){const r=this;let u=r.events.length,i,l;for(;u--;)if((r.events[u][1].type==="labelImage"||r.events[u][1].type==="labelLink")&&!r.events[u][1]._balanced){i=r.events[u][1];break}return a;function a(g){return i?i._inactive?m(g):(l=r.parser.defined.includes(gn(r.sliceSerialize({start:i.end,end:r.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(g),n.exit("labelMarker"),n.exit("labelEnd"),f):t(g)}function f(g){return g===40?n.attempt(Ye,p,l?p:m)(g):g===91?n.attempt(Ze,p,l?c:m)(g):l?p(g):m(g)}function c(g){return n.attempt(Ge,p,m)(g)}function p(g){return e(g)}function m(g){return i._balanced=!0,t(g)}}function ve(n,e,t){return r;function r(m){return n.enter("resource"),n.enter("resourceMarker"),n.consume(m),n.exit("resourceMarker"),u}function u(m){return W(m)?fn(n,i)(m):i(m)}function i(m){return m===41?p(m):rt(n,l,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function l(m){return W(m)?fn(n,f)(m):p(m)}function a(m){return t(m)}function f(m){return m===34||m===39||m===40?ut(n,c,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):p(m)}function c(m){return W(m)?fn(n,p)(m):p(m)}function p(m){return m===41?(n.enter("resourceMarker"),n.consume(m),n.exit("resourceMarker"),n.exit("resource"),e):t(m)}}function nr(n,e,t){const r=this;return u;function u(a){return it.call(r,n,i,l,"reference","referenceMarker","referenceString")(a)}function i(a){return r.parser.defined.includes(gn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):t(a)}function l(a){return t(a)}}function tr(n,e,t){return r;function r(i){return n.enter("reference"),n.enter("referenceMarker"),n.consume(i),n.exit("referenceMarker"),u}function u(i){return i===93?(n.enter("referenceMarker"),n.consume(i),n.exit("referenceMarker"),n.exit("reference"),e):t(i)}}const er={name:"labelStartImage",tokenize:rr,resolveAll:An.resolveAll};function rr(n,e,t){const r=this;return u;function u(a){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(a),n.exit("labelImageMarker"),i}function i(a){return a===91?(n.enter("labelMarker"),n.consume(a),n.exit("labelMarker"),n.exit("labelImage"),l):t(a)}function l(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(a):e(a)}}const ir={name:"labelStartLink",tokenize:ur,resolveAll:An.resolveAll};function ur(n,e,t){const r=this;return u;function u(l){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(l),n.exit("labelMarker"),n.exit("labelLink"),i}function i(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(l):e(l)}}const yn={name:"lineEnding",tokenize:lr};function lr(n,e){return t;function t(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),L(n,e,"linePrefix")}}const kn={name:"thematicBreak",tokenize:ar};function ar(n,e,t){let r=0,u;return i;function i(c){return n.enter("thematicBreak"),l(c)}function l(c){return u=c,a(c)}function a(c){return c===u?(n.enter("thematicBreakSequence"),f(c)):r>=3&&(c===null||T(c))?(n.exit("thematicBreak"),e(c)):t(c)}function f(c){return c===u?(n.consume(c),r++,f):(n.exit("thematicBreakSequence"),D(c)?L(n,a,"whitespace")(c):a(c))}}const U={name:"list",tokenize:hr,continuation:{tokenize:cr},exit:pr},or={tokenize:fr,partial:!0},sr={tokenize:mr,partial:!0};function hr(n,e,t){const r=this,u=r.events[r.events.length-1];let i=u&&u[1].type==="linePrefix"?u[2].sliceSerialize(u[1],!0).length:0,l=0;return a;function a(h){const k=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(k==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:zn(h)){if(r.containerState.type||(r.containerState.type=k,n.enter(k,{_container:!0})),k==="listUnordered")return n.enter("listItemPrefix"),h===42||h===45?n.check(kn,t,c)(h):c(h);if(!r.interrupt||h===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),f(h)}return t(h)}function f(h){return zn(h)&&++l<10?(n.consume(h),f):(!r.interrupt||l<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(n.exit("listItemValue"),c(h)):t(h)}function c(h){return n.enter("listItemMarker"),n.consume(h),n.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,n.check(dn,r.interrupt?t:p,n.attempt(or,g,m))}function p(h){return r.containerState.initialBlankLine=!0,i++,g(h)}function m(h){return D(h)?(n.enter("listItemPrefixWhitespace"),n.consume(h),n.exit("listItemPrefixWhitespace"),g):t(h)}function g(h){return r.containerState.size=i+r.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(h)}}function cr(n,e,t){const r=this;return r.containerState._closeFlow=void 0,n.check(dn,u,i);function u(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,L(n,e,"listItemIndent",r.containerState.size+1)(a)}function i(a){return r.containerState.furtherBlankLines||!D(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,n.attempt(sr,e,l)(a))}function l(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,L(n,n.attempt(U,e,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function mr(n,e,t){const r=this;return L(n,u,"listItemIndent",r.containerState.size+1);function u(i){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?e(i):t(i)}}function pr(n){n.exit(this.containerState.type)}function fr(n,e,t){const r=this;return L(n,u,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function u(i){const l=r.events[r.events.length-1];return!D(i)&&l&&l[1].type==="listItemPrefixWhitespace"?e(i):t(i)}}const Zn={name:"setextUnderline",tokenize:xr,resolveTo:gr};function gr(n,e){let t=n.length,r,u,i;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){r=t;break}n[t][1].type==="paragraph"&&(u=t)}else n[t][1].type==="content"&&n.splice(t,1),!i&&n[t][1].type==="definition"&&(i=t);const l={type:"setextHeading",start:Object.assign({},n[u][1].start),end:Object.assign({},n[n.length-1][1].end)};return n[u][1].type="setextHeadingText",i?(n.splice(u,0,["enter",l,e]),n.splice(i+1,0,["exit",n[r][1],e]),n[r][1].end=Object.assign({},n[i][1].end)):n[r][1]=l,n.push(["exit",l,e]),n}function xr(n,e,t){const r=this;let u;return i;function i(c){let p=r.events.length,m;for(;p--;)if(r.events[p][1].type!=="lineEnding"&&r.events[p][1].type!=="linePrefix"&&r.events[p][1].type!=="content"){m=r.events[p][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(n.enter("setextHeadingLine"),u=c,l(c)):t(c)}function l(c){return n.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===u?(n.consume(c),a):(n.exit("setextHeadingLineSequence"),D(c)?L(n,f,"lineSuffix")(c):f(c))}function f(c){return c===null||T(c)?(n.exit("setextHeadingLine"),e(c)):t(c)}}const br={tokenize:kr};function kr(n){const e=this,t=n.attempt(dn,r,n.attempt(this.parser.constructs.flowInitial,u,L(n,n.attempt(this.parser.constructs.flow,u,n.attempt(Ie,u)),"linePrefix")));return t;function r(i){if(i===null){n.consume(i);return}return n.enter("lineEndingBlank"),n.consume(i),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function u(i){if(i===null){n.consume(i);return}return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),e.currentConstruct=void 0,t}}const dr={resolveAll:at()},Sr=lt("string"),wr=lt("text");function lt(n){return{resolveAll:at(n==="text"?yr:void 0),tokenize:e};function e(t){const r=this,u=this.parser.constructs[n],i=t.attempt(u,l,a);return l;function l(p){return c(p)?i(p):a(p)}function a(p){if(p===null){t.consume(p);return}return t.enter("data"),t.consume(p),f}function f(p){return c(p)?(t.exit("data"),i(p)):(t.consume(p),f)}function c(p){if(p===null)return!0;const m=u[p];let g=-1;if(m)for(;++g<m.length;){const h=m[g];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function at(n){return e;function e(t,r){let u=-1,i;for(;++u<=t.length;)i===void 0?t[u]&&t[u][1].type==="data"&&(i=u,u++):(!t[u]||t[u][1].type!=="data")&&(u!==i+2&&(t[i][1].end=t[u-1][1].end,t.splice(i+2,u-i-2),u=i+2),i=void 0);return n?n(t,r):t}}function yr(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){const r=n[t-1][1],u=e.sliceStream(r);let i=u.length,l=-1,a=0,f;for(;i--;){const c=u[i];if(typeof c=="string"){for(l=c.length;c.charCodeAt(l-1)===32;)a++,l--;if(l)break;l=-1}else if(c===-2)f=!0,a++;else if(c!==-1){i++;break}}if(a){const c={type:t===n.length||f||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?l:r.start._bufferIndex+l,_index:r.start._index+i,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(n.splice(t,0,["enter",c,e],["exit",c,e]),t+=2)}t++}return n}const Ir={42:U,43:U,45:U,48:U,49:U,50:U,51:U,52:U,53:U,54:U,55:U,56:U,57:U,62:vn},Cr={91:Fe},Er={[-2]:wn,[-1]:wn,32:wn},zr={35:Le,42:kn,45:[Zn,kn],60:Ne,61:Zn,95:kn,96:$n,126:$n},Tr={38:tt,92:nt},Fr={[-5]:yn,[-4]:yn,[-3]:yn,33:er,38:tt,42:Tn,60:[ie,Ue],91:ir,92:[_e,nt],93:An,95:Tn,96:be},Ar={null:[Tn,dr]},Dr={null:[42,95]},Or={null:[]},_r=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Dr,contentInitial:Cr,disable:Or,document:Ir,flow:zr,flowInitial:Er,insideSpan:Ar,string:Tr,text:Fr},Symbol.toStringTag,{value:"Module"}));function Br(n,e,t){let r={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const u={},i=[];let l=[],a=[];const f={attempt:O(F),check:O(b),consume:y,enter:w,exit:B,interrupt:O(b,{interrupt:!0})},c={code:null,containerState:{},defineSkip:z,events:[],now:k,parser:n,previous:null,sliceSerialize:g,sliceStream:h,write:m};let p=e.tokenize.call(c,f);return e.resolveAll&&i.push(e),c;function m(I){return l=Q(l,I),A(),l[l.length-1]!==null?[]:(R(e,0),c.events=Fn(i,c.events,c),c.events)}function g(I,E){return Pr(h(I),E)}function h(I){return Lr(l,I)}function k(){const{_bufferIndex:I,_index:E,line:P,column:M,offset:_}=r;return{_bufferIndex:I,_index:E,line:P,column:M,offset:_}}function z(I){u[I.line]=I.column,x()}function A(){let I;for(;r._index<l.length;){const E=l[r._index];if(typeof E=="string")for(I=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===I&&r._bufferIndex<E.length;)d(E.charCodeAt(r._bufferIndex));else d(E)}}function d(I){p=p(I)}function y(I){T(I)?(r.line++,r.column=1,r.offset+=I===-3?2:1,x()):I!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=I}function w(I,E){const P=E||{};return P.type=I,P.start=k(),c.events.push(["enter",P,c]),a.push(P),P}function B(I){const E=a.pop();return E.end=k(),c.events.push(["exit",E,c]),E}function F(I,E){R(I,E.from)}function b(I,E){E.restore()}function O(I,E){return P;function P(M,_,j){let H,Y,nn,o;return Array.isArray(M)?tn(M):"tokenize"in M?tn([M]):Z(M);function Z(q){return cn;function cn(un){const on=un!==null&&q[un],sn=un!==null&&q.null,Sn=[...Array.isArray(on)?on:on?[on]:[],...Array.isArray(sn)?sn:sn?[sn]:[]];return tn(Sn)(un)}}function tn(q){return H=q,Y=0,q.length===0?j:s(q[Y])}function s(q){return cn;function cn(un){return o=N(),nn=q,q.partial||(c.currentConstruct=q),q.name&&c.parser.constructs.disable.null.includes(q.name)?an():q.tokenize.call(E?Object.assign(Object.create(c),E):c,f,G,an)(un)}}function G(q){return I(nn,o),_}function an(q){return o.restore(),++Y<H.length?s(H[Y]):j}}}function R(I,E){I.resolveAll&&!i.includes(I)&&i.push(I),I.resolve&&rn(c.events,E,c.events.length-E,I.resolve(c.events.slice(E),c)),I.resolveTo&&(c.events=I.resolveTo(c.events,c))}function N(){const I=k(),E=c.previous,P=c.currentConstruct,M=c.events.length,_=Array.from(a);return{from:M,restore:j};function j(){r=I,c.previous=E,c.currentConstruct=P,c.events.length=M,a=_,x()}}function x(){r.line in u&&r.column<2&&(r.column=u[r.line],r.offset+=u[r.line]-1)}}function Lr(n,e){const t=e.start._index,r=e.start._bufferIndex,u=e.end._index,i=e.end._bufferIndex;let l;if(t===u)l=[n[t].slice(r,i)];else{if(l=n.slice(t,u),r>-1){const a=l[0];typeof a=="string"?l[0]=a.slice(r):l.shift()}i>0&&l.push(n[u].slice(0,i))}return l}function Pr(n,e){let t=-1;const r=[];let u;for(;++t<n.length;){const i=n[t];let l;if(typeof i=="string")l=i;else switch(i){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&u)continue;l=" ";break}default:l=String.fromCharCode(i)}u=i===-2,r.push(l)}return r.join("")}function Rr(n){const r={constructs:Rt([_r,...(n||{}).extensions||[]]),content:u(Xt),defined:[],document:u(vt),flow:u(br),lazy:{},string:u(Sr),text:u(wr)};return r;function u(i){return l;function l(a){return Br(r,i,a)}}}function Mr(n){for(;!et(n););return n}const Gn=/[\0\t\n\r]/g;function Nr(){let n=1,e="",t=!0,r;return u;function u(i,l,a){const f=[];let c,p,m,g,h;for(i=e+(typeof i=="string"?i.toString():new TextDecoder(l||void 0).decode(i)),m=0,e="",t&&(i.charCodeAt(0)===65279&&m++,t=void 0);m<i.length;){if(Gn.lastIndex=m,c=Gn.exec(i),g=c&&c.index!==void 0?c.index:i.length,h=i.charCodeAt(g),!c){e=i.slice(m);break}if(h===10&&m===g&&r)f.push(-3),r=void 0;else switch(r&&(f.push(-5),r=void 0),m<g&&(f.push(i.slice(m,g)),n+=g-m),h){case 0:{f.push(65533),n++;break}case 9:{for(p=Math.ceil(n/4)*4,f.push(-2);n++<p;)f.push(-1);break}case 10:{f.push(-4),n=1;break}default:r=!0,n=1}m=g+1}return a&&(r&&f.push(-5),e&&f.push(e),f.push(null)),f}}function Hr(n,e,t){return typeof e!="string"&&(t=e,e=void 0),Jt(t)(Mr(Rr(t).document().write(Nr()(n,e,!0))))}const In={none:"",left:' align="left"',right:' align="right"',center:' align="center"'};function qr(){return{enter:{table(n){const e=n._align;this.lineEndingIfNeeded(),this.tag("<table>"),this.setData("tableAlign",e)},tableBody(){this.tag("<tbody>")},tableData(){const n=this.getData("tableAlign"),e=this.getData("tableColumn"),t=In[n[e]];t===void 0?this.buffer():(this.lineEndingIfNeeded(),this.tag("<td"+t+">"))},tableHead(){this.lineEndingIfNeeded(),this.tag("<thead>")},tableHeader(){const n=this.getData("tableAlign"),e=this.getData("tableColumn"),t=In[n[e]];this.lineEndingIfNeeded(),this.tag("<th"+t+">")},tableRow(){this.setData("tableColumn",0),this.lineEndingIfNeeded(),this.tag("<tr>")}},exit:{codeTextData(n){let e=this.sliceSerialize(n);this.getData("tableAlign")&&(e=e.replace(/\\([\\|])/g,jr)),this.raw(this.encode(e))},table(){this.setData("tableAlign"),this.setData("slurpAllLineEndings"),this.lineEndingIfNeeded(),this.tag("</table>")},tableBody(){this.lineEndingIfNeeded(),this.tag("</tbody>")},tableData(){const n=this.getData("tableAlign"),e=this.getData("tableColumn");e in n?(this.tag("</td>"),this.setData("tableColumn",e+1)):this.resume()},tableHead(){this.lineEndingIfNeeded(),this.tag("</thead>")},tableHeader(){const n=this.getData("tableColumn");this.tag("</th>"),this.setData("tableColumn",n+1)},tableRow(){const n=this.getData("tableAlign");let e=this.getData("tableColumn");for(;e<n.length;)this.lineEndingIfNeeded(),this.tag("<td"+In[n[e]]+"></td>"),e++;this.setData("tableColumn",e),this.lineEndingIfNeeded(),this.tag("</tr>")}}}}function jr(n,e){return e==="|"?e:n}class Vr{constructor(){this.map=[]}add(e,t,r){Qr(this,e,t,r)}consume(e){if(this.map.sort(function(i,l){return i[0]-l[0]}),this.map.length===0)return;let t=this.map.length;const r=[];for(;t>0;)t-=1,r.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];r.push([...e]),e.length=0;let u=r.pop();for(;u;)e.push(...u),u=r.pop();this.map.length=0}}function Qr(n,e,t,r){let u=0;if(!(t===0&&r.length===0)){for(;u<n.map.length;){if(n.map[u][0]===e){n.map[u][1]+=t,n.map[u][2].push(...r);return}u+=1}n.map.push([e,t,r])}}function Wr(n,e){let t=!1;const r=[];for(;e<n.length;){const u=n[e];if(t){if(u[0]==="enter")u[1].type==="tableContent"&&r.push(n[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(u[1].type==="tableContent"){if(n[e-1][1].type==="tableDelimiterMarker"){const i=r.length-1;r[i]=r[i]==="left"?"center":"right"}}else if(u[1].type==="tableDelimiterRow")break}else u[0]==="enter"&&u[1].type==="tableDelimiterRow"&&(t=!0);e+=1}return r}function Ur(){return{flow:{null:{name:"table",tokenize:$r,resolveAll:Yr}}}}function $r(n,e,t){const r=this;let u=0,i=0,l;return a;function a(x){let I=r.events.length-1;for(;I>-1;){const M=r.events[I][1].type;if(M==="lineEnding"||M==="linePrefix")I--;else break}const E=I>-1?r.events[I][1].type:null,P=E==="tableHead"||E==="tableRow"?b:f;return P===b&&r.parser.lazy[r.now().line]?t(x):P(x)}function f(x){return n.enter("tableHead"),n.enter("tableRow"),c(x)}function c(x){return x===124||(l=!0,i+=1),p(x)}function p(x){return x===null?t(x):T(x)?i>1?(i=0,r.interrupt=!0,n.exit("tableRow"),n.enter("lineEnding"),n.consume(x),n.exit("lineEnding"),h):t(x):D(x)?L(n,p,"whitespace")(x):(i+=1,l&&(l=!1,u+=1),x===124?(n.enter("tableCellDivider"),n.consume(x),n.exit("tableCellDivider"),l=!0,p):(n.enter("data"),m(x)))}function m(x){return x===null||x===124||W(x)?(n.exit("data"),p(x)):(n.consume(x),x===92?g:m)}function g(x){return x===92||x===124?(n.consume(x),m):m(x)}function h(x){return r.interrupt=!1,r.parser.lazy[r.now().line]?t(x):(n.enter("tableDelimiterRow"),l=!1,D(x)?L(n,k,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(x):k(x))}function k(x){return x===45||x===58?A(x):x===124?(l=!0,n.enter("tableCellDivider"),n.consume(x),n.exit("tableCellDivider"),z):F(x)}function z(x){return D(x)?L(n,A,"whitespace")(x):A(x)}function A(x){return x===58?(i+=1,l=!0,n.enter("tableDelimiterMarker"),n.consume(x),n.exit("tableDelimiterMarker"),d):x===45?(i+=1,d(x)):x===null||T(x)?B(x):F(x)}function d(x){return x===45?(n.enter("tableDelimiterFiller"),y(x)):F(x)}function y(x){return x===45?(n.consume(x),y):x===58?(l=!0,n.exit("tableDelimiterFiller"),n.enter("tableDelimiterMarker"),n.consume(x),n.exit("tableDelimiterMarker"),w):(n.exit("tableDelimiterFiller"),w(x))}function w(x){return D(x)?L(n,B,"whitespace")(x):B(x)}function B(x){return x===124?k(x):x===null||T(x)?!l||u!==i?F(x):(n.exit("tableDelimiterRow"),n.exit("tableHead"),e(x)):F(x)}function F(x){return t(x)}function b(x){return n.enter("tableRow"),O(x)}function O(x){return x===124?(n.enter("tableCellDivider"),n.consume(x),n.exit("tableCellDivider"),O):x===null||T(x)?(n.exit("tableRow"),e(x)):D(x)?L(n,O,"whitespace")(x):(n.enter("data"),R(x))}function R(x){return x===null||x===124||W(x)?(n.exit("data"),O(x)):(n.consume(x),x===92?N:R)}function N(x){return x===92||x===124?(n.consume(x),R):R(x)}}function Yr(n,e){let t=-1,r=!0,u=0,i=[0,0,0,0],l=[0,0,0,0],a=!1,f=0,c,p,m;const g=new Vr;for(;++t<n.length;){const h=n[t],k=h[1];h[0]==="enter"?k.type==="tableHead"?(a=!1,f!==0&&(Jn(g,e,f,c,p),p=void 0,f=0),c={type:"table",start:Object.assign({},k.start),end:Object.assign({},k.end)},g.add(t,0,[["enter",c,e]])):k.type==="tableRow"||k.type==="tableDelimiterRow"?(r=!0,m=void 0,i=[0,0,0,0],l=[0,t+1,0,0],a&&(a=!1,p={type:"tableBody",start:Object.assign({},k.start),end:Object.assign({},k.end)},g.add(t,0,[["enter",p,e]])),u=k.type==="tableDelimiterRow"?2:p?3:1):u&&(k.type==="data"||k.type==="tableDelimiterMarker"||k.type==="tableDelimiterFiller")?(r=!1,l[2]===0&&(i[1]!==0&&(l[0]=l[1],m=bn(g,e,i,u,void 0,m),i=[0,0,0,0]),l[2]=t)):k.type==="tableCellDivider"&&(r?r=!1:(i[1]!==0&&(l[0]=l[1],m=bn(g,e,i,u,void 0,m)),i=l,l=[i[1],t,0,0])):k.type==="tableHead"?(a=!0,f=t):k.type==="tableRow"||k.type==="tableDelimiterRow"?(f=t,i[1]!==0?(l[0]=l[1],m=bn(g,e,i,u,t,m)):l[1]!==0&&(m=bn(g,e,l,u,t,m)),u=0):u&&(k.type==="data"||k.type==="tableDelimiterMarker"||k.type==="tableDelimiterFiller")&&(l[3]=t)}for(f!==0&&Jn(g,e,f,c,p),g.consume(e.events),t=-1;++t<e.events.length;){const h=e.events[t];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=Wr(e.events,t))}return n}function bn(n,e,t,r,u,i){const l=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";t[0]!==0&&(i.end=Object.assign({},hn(e.events,t[0])),n.add(t[0],0,[["exit",i,e]]));const f=hn(e.events,t[1]);if(i={type:l,start:Object.assign({},f),end:Object.assign({},f)},n.add(t[1],0,[["enter",i,e]]),t[2]!==0){const c=hn(e.events,t[2]),p=hn(e.events,t[3]),m={type:a,start:Object.assign({},c),end:Object.assign({},p)};if(n.add(t[2],0,[["enter",m,e]]),r!==2){const g=e.events[t[2]],h=e.events[t[3]];if(g[1].end=Object.assign({},h[1].end),g[1].type="chunkText",g[1].contentType="text",t[3]>t[2]+1){const k=t[2]+1,z=t[3]-t[2]-1;n.add(k,z,[])}}n.add(t[3]+1,0,[["exit",m,e]])}return u!==void 0&&(i.end=Object.assign({},hn(e.events,u)),n.add(u,0,[["exit",i,e]]),i=void 0),i}function Jn(n,e,t,r,u){const i=[],l=hn(e.events,t);u&&(u.end=Object.assign({},l),i.push(["exit",u,e])),r.end=Object.assign({},l),i.push(["exit",r,e]),n.add(t+1,0,i)}function hn(n,e){const t=n[e],r=t[0]==="enter"?"start":"end";return t[1][r]}const Gr=Nn.forwardRef((n,e)=>{const{code:t,children:r,...u}=n,i=Nn.useMemo(()=>Hr(t??"",{allowDangerousProtocol:!0,extensions:[Ur()],htmlExtensions:[qr()]}),[t]);return Pt.jsx("div",{...u,ref:e,dangerouslySetInnerHTML:{__html:i}})});export{Gr as h};
